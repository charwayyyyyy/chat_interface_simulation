// Sound Effects Management

class SoundManager {
    constructor() {
        this.sounds = {
            messageSent: new Audio(),
            messageReceived: new Audio(),
            notification: new Audio()
        };
        
        // Set sound sources - using base64 encoded audio to avoid external files
        this.sounds.messageSent.src = 'data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4Ljc2LjEwMAAAAAAAAAAAAAAA//tQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAASAAAeMwAUFBQUFCgUFBQUFDMzMzMzM0dHR0dHR1tbW1tbW2ZmZmZmZnp6enp6eoODg4ODg5eXl5eXl6SkpKSkpLi4uLi4uMXFxcXFxdLS0tLS0uDg4ODg4O/v7+/v7/////8AAAAATGF2YzU4LjEzAAAAAAAAAAAAAAAAJAUAAAAAAAAAHjMxOqT5AAAAAAAAAAAAAAAAAAAAAP/7kGQAAANUMEoFPeACNQV40KEYABEY41g5vAAA9RjpZxRwAImU+W8eshaFpAQgALAAYALATx/nYDYCMJ0HITQYYA7AH4c7MoGsnCMU5pnW+OQnBcDrQ9Xx7w37/D+PimYavV8elKUpT5fqx5VjV6vZ38eJR48eRKa9KUp7v396UgPHkQwMAAAAAA//8MAOp39CECAAhlIEEIIECBAgTT1oj///tEQYT0wgEIYxgDC09aIiE7u7u7uIiIz+LtoIQGE/+XAGYLjpTAIOGYYy0ZACgDgSNFxC7YYiINocwERjAEDhIy0mRoGwAE7lOTBsGhj1qrXNCU9GrgwSPr80jj0dIpT9DRUNHKJbRxiWSiifVHuD2b0EbjLkOUzSXztP3uE1JpHzV6NPq+f3P5T0/f/lNH7lWTavQ5Xz1yLVe653///qf93B7f/vMdaKJAAJAMAIwIMAHMpzDkoYwD8CR717zVb8/p54P3MikXGCEWhQOEAOAdP6v8b8oNL/EzdnROC8Zo+z+71O8VVAGIKFEglKbidkoLam0mAFiwo0ZoVExf/7kmQLgAQyZFxvPWAENcVKXeK0ABAk2WFMaSNIzBMptBYfArbkZgpWjEQpcmjxQoG2qREWQcvpzuuIm29THt3ElhDNlrXV///XTGbm7Kbx0ymcRX///x7GVvquf5vk/dPs0Wi5Td1vggDxqbNII4bAPTU3IzBo8TYNHl18ooZmFGNcDzxcQDMIAXB4Rx/jJ24MTFIAMXoBiFQPPkQZQ0wQzGQJi1AYPCFWQDMXYkPLKDCGZeUbqUMocwIoAcXMG3/7kGQDgAQ9NFO9aeAAPAU6RKGMAFEEyj/HpAAK6BfpgoHwAXYIAtzwQyzEuZbCEMdUKYtBSY+CK+MFaZQ0wGsZiIAc5uEgZAMYtMKHMH6+7vP8U1vFx4x7PKupaWgMMGn/+5JkBoAkZzlVB9hAAGzDWXCGAABSVNlVrGmAAUQNZ8AYAAmkVvMRmMzHvhRQaaqzu7uz/AaHyH6uqCHMBkPZ1y8kFPp5kCxMTEzMzFLif/MzzdQCnqogFTD5qSwsIAAAIAAAIAAFAYUFR4MwgB4CgAAAUHGi8ACAAACMpf/7kmQDgAT6M1PrPDAAYONqPWJgAFPY8WGsQABg1A4uNYYADHAA';
        this.sounds.messageReceived.src = 'data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4Ljc2LjEwMAAAAAAAAAAAAAAA//tQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAASAAAeMwAUFBQUFCgUFBQUFDMzMzMzM0dHR0dHR1tbW1tbW2ZmZmZmZnp6enp6eoODg4ODg5eXl5eXl6SkpKSkpLi4uLi4uMXFxcXFxdLS0tLS0uDg4ODg4O/v7+/v7/////8AAAAATGF2YzU4LjEzAAAAAAAAAAAAAAAAJAUAAAAAAAAAHjMxOqT5AAAAAAAAAAAAAAAAAAAAAP/7kGQAAANUMEoFPeACNQV40KEYABEY41g5vAAA9RjpZxRwAImU+W8eshaFpAQgALAAYALATx/nYDYCMJ0HITQYYA7AH4c7MoGsnCMU5pnW+OQnBcDrQ9Xx7w37/D+PimYavV8elKUpT5fqx5VjV6vZ38eJR48eRKa9KUp7v396UgPHkQwMAAAAAA//8MAOp39CECAAhlIEEIIECBAgTT1oj///tEQYT0wgEIYxgDC09aIiE7u7u7uIiIz+LtoIQGE/+XAGYLjpTAIOGYYy0ZACgDgSNFxC7YYiINocwERjAEDhIy0mRoGwAE7lOTBsGhj1qrXNCU9GrgwSPr80jj0dIpT9DRUNHKJbRxiWSiifVHuD2b0EbjLkOUzSXztP3uE1JpHzV6NPq+f3P5T0/f/lNH7lWTavQ5Xz1yLVe653///qf93B7f/vMdaKJAAJAMAIwIMAHMpzDkoYwD8CR717zVb8/p54P3MikXGCEWhQOEAOAdP6v8b8oNL/EzdnROC8Zo+z+71O8VVAGIKFEglKbidkoLam0mAFiwo0ZoVExf/7kmQLgAQyZFxvPWAENcVKXeK0ABAk2WFMaSNIzBMptBYfArbkZgpWjEQpcmjxQoG2qREWQcvpzuuIm29THt3ElhDNlrXV///XTGbm7Kbx0ymcRX///x7GVvquf5vk/dPs0Wi5Td1vggDxqbNII4bAPTU3IzBo8TYNHl18ooZmFGNcDzxcQDMIAXB4Rx/jJ24MTFIAMXoBiFQPPkQZQ0wQzGQJi1AYPCFWQDMXYkPLKDCGZeUbqUMocwIoAcXMG3/7kGQDgAQ9NFO9aeAAPAU6RKGMAFEEyj/HpAAK6BfpgoHwAXYIAtzwQyzEuZbCEMdUKYtBSY+CK+MFaZQ0wGsZiIAc5uEgZAMYtMKHMH6+7vP8U1vFx4x7PKupaWgMMGn/+5JkBoAkZzlVB9hAAGzDWXCGAABSVNlVrGmAAUQNZ8AYAAmkVvMRmMzHvhRQaaqzu7uz/AaHyH6uqCHMBkPZ1y8kFPp5kCxMTEzMzFLif/MzzdQCnqogFTD5qSwsIAAAIAAAIAAFAYUFR4MwgB4CgAAAUHGi8ACAAACMpf/7kmQDgAT6M1PrPDAAYONqPWJgAFPY8WGsQABg1A4uNYYADHAA))';
        this.sounds.notification.src = 'data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4Ljc2LjEwMAAAAAAAAAAAAAAA//tQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAASAAAeMwAUFBQUFCgUFBQUFDMzMzMzM0dHR0dHR1tbW1tbW2ZmZmZmZnp6enp6eoODg4ODg5eXl5eXl6SkpKSkpLi4uLi4uMXFxcXFxdLS0tLS0uDg4ODg4O/v7+/v7/////8AAAAATGF2YzU4LjEzAAAAAAAAAAAAAAAAJAUAAAAAAAAAHjMxOqT5AAAAAAAAAAAAAAAAAAAAAP/7kGQAAANUMEoFPeACNQV40KEYABEY41g5vAAA9RjpZxRwAImU+W8eshaFpAQgALAAYALATx/nYDYCMJ0HITQYYA7AH4c7MoGsnCMU5pnW+OQnBcDrQ9Xx7w37/D+PimYavV8elKUpT5fqx5VjV6vZ38eJR48eRKa9KUp7v396UgPHkQwMAAAAAA//8MAOp39CECAAhlIEEIIECBAgTT1oj///tEQYT0wgEIYxgDC09aIiE7u7u7uIiIz+LtoIQGE/+XAGYLjpTAIOGYYy0ZACgDgSNFxC7YYiINocwERjAEDhIy0mRoGwAE7lOTBsGhj1qrXNCU9GrgwSPr80jj0dIpT9DRUNHKJbRxiWSiifVHuD2b0EbjLkOUzSXztP3uE1JpHzV6NPq+f3P5T0/f/lNH7lWTavQ5Xz1yLVe653///qf93B7f/vMdaKJAAJAMAIwIMAHMpzDkoYwD8CR717zVb8/p54P3MikXGCEWhQOEAOAdP6v8b8oNL/EzdnROC8Zo+z+71O8VVAGIKFEglKbidkoLam0mAFiwo0ZoVExf/7kmQLgAQyZFxvPWAENcVKXeK0ABAk2WFMaSNIzBMptBYfArbkZgpWjEQpcmjxQoG2qREWQcvpzuuIm29THt3ElhDNlrXV///XTGbm7Kbx0ymcRX///x7GVvquf5vk/dPs0Wi5Td1vggDxqbNII4bAPTU3IzBo8TYNHl18ooZmFGNcDzxcQDMIAXB4Rx/jJ24MTFIAMXoBiFQPPkQZQ0wQzGQJi1AYPCFWQDMXYkPLKDCGZeUbqUMocwIoAcXMG3/7kGQDgAQ9NFO9aeAAPAU6RKGMAFEEyj/HpAAK6BfpgoHwAXYIAtzwQyzEuZbCEMdUKYtBSY+CK+MFaZQ0wGsZiIAc5uEgZAMYtMKHMH6+7vP8U1vFx4x7PKupaWgMMGn/+5JkBoAkZzlVB9hAAGzDWXCGAABSVNlVrGmAAUQNZ8AYAAmkVvMRmMzHvhRQaaqzu7uz/AaHyH6uqCHMBkPZ1y8kFPp5kCxMTEzMzFLif/MzzdQCnqogFTD5qSwsIAAAIAAAIAAFAYUFR4MwgB4CgAAAUHGi8ACAAACMpf/7kmQDgAT6M1PrPDAAYONqPWJgAFPY8WGsQABg1A4uNYYADHAA';
        
        // Set volume
        this.setVolume(0.5);
        
        // Get sound preference from localStorage
        this.enabled = localStorage.getItem('soundEnabled') !== 'false';
    }
    
    setVolume(volume) {
        for (const sound in this.sounds) {
            this.sounds[sound].volume = volume;
        }
    }
    
    toggle() {
        this.enabled = !this.enabled;
        localStorage.setItem('soundEnabled', this.enabled);
        return this.enabled;
    }
    
    play(soundName) {
        if (!this.enabled) return;
        
        const sound = this.sounds[soundName];
        if (sound) {
            sound.currentTime = 0;
            sound.play().catch(e => console.log('Error playing sound:', e));
        }
    }
}

// Create global sound manager instance
const soundManager = new SoundManager();